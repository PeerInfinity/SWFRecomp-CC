{
  "metadata": {
    "name": "call_swf_4",
    "description": "Comprehensive tests for CALL opcode (0x9E) - Tests frame calling by number, string numbers, frame labels (logged), target paths (logged), and edge cases. Frame execution works for main timeline numeric frames.",
    "swf_version": 4,
    "fully_implemented": false,
    "fully_implemented_no_graphics": true,
    "missing_features": [
      "Frame label registry (requires SWFRecomp to parse FrameLabel tag 43 and generate label->frame mapping - graphics-only)",
      "MovieClip tree for target paths (requires full MovieClip infrastructure - graphics-only)",
      "Multi-MovieClip support (requires MovieClip context switching - graphics-only)"
    ]
  },
  "opcodes": {
    "tested": ["CALL"],
    "supporting": ["PUSH", "TRACE"]
  },
  "execution": {
    "type": "deterministic"
  },
  "implementation_details": {
    "frame_calling_by_number": "Fully implemented (main timeline)",
    "frame_calling_by_string_number": "Fully implemented (main timeline)",
    "frame_calling_by_label": "Parsed and logged (requires label registry)",
    "target_path_parsing": "Fully implemented (parsing only)",
    "target_path_execution": "Not implemented (requires MovieClip tree)",
    "quit_swf_handling": "Implemented (state saved/restored)",
    "edge_case_handling": "Fully implemented (negative, out of range, null, undefined, invalid types)"
  },
  "edge_cases_tested": [
    "numeric_frame_call",
    "string_numeric_frame_call",
    "frame_label_parsing",
    "target_path_parsing",
    "negative_frame_handling",
    "out_of_range_frame_handling",
    "null_frame_handling",
    "undefined_frame_handling",
    "invalid_type_handling",
    "multi_frame_execution",
    "quit_swf_state_preservation"
  ],
  "notes": [
    "ActionCall executes frame actions for numeric frames on main timeline",
    "Frame number calling works via global g_frame_funcs array",
    "quit_swf state is properly saved/restored to prevent premature termination",
    "Target path parsing implemented but execution requires MovieClip infrastructure",
    "Frame label parsing implemented but lookup requires label registry from SWFRecomp",
    "All edge cases (negative, out of range, null, undefined, invalid types) handled correctly",
    "CALL is a legacy opcode from SWF 4; modern ActionScript uses CALL_FUNCTION (0x3D) instead",
    "Similar to GOTO_FRAME2 (0x9F) - same limitations regarding labels and target paths",
    "Comprehensive test suite covers all opcode features available in NO_GRAPHICS mode"
  ]
}
