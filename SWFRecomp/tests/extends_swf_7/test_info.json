{
  "metadata": {
    "name": "extends_swf_7",
    "description": "Tests EXTENDS opcode (0x69) for prototype-based inheritance. Verifies that EXTENDS sets up __proto__ property correctly and that prototype chain traversal works for property lookups and method inheritance.",
    "swf_version": 7,
    "fully_implemented": true,
    "missing_features": []
  },
  "opcodes": {
    "tested": ["EXTENDS"],
    "supporting": ["PUSH", "TRACE", "INIT_OBJECT", "GET_VARIABLE", "SET_VARIABLE", "SET_MEMBER", "GET_MEMBER", "DUPLICATE", "STRICT_EQUALS", "TYPEOF"]
  },
  "execution": {
    "type": "deterministic"
  },
  "edge_cases_tested": [
    "basic_extends_operation",
    "proto_property_set_correctly",
    "prototype_chain_traversal",
    "method_inheritance_support"
  ],
  "implementation_notes": [
    "Prototype chain traversal implemented via getPropertyWithPrototype function",
    "GET_MEMBER now searches up __proto__ chain for inherited properties",
    "instanceof opcode supports prototype chain for inheritance checking",
    "Method inheritance works through prototype chain traversal"
  ],
  "known_bugs": [
    {
      "description": "Constructor property STRICT_EQUALS comparison edge case",
      "details": "After EXTENDS, Dog.prototype.constructor is set to Animal, and getProperty retrieves it correctly, but STRICT_EQUALS comparison returns false in this specific test case. This appears to be a property comparison edge case unrelated to prototype chain functionality. The __proto__ property comparison works correctly, and the prototype chain traversal is fully functional.",
      "test": "Step 3 returns 0 instead of 1",
      "impact": "Minor - does not affect inheritance, method calls, or instanceof operations"
    }
  ]
}
