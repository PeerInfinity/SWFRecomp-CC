{
  "metadata": {
    "name": "cast_op_swf_7",
    "description": "Tests CAST_OP opcode (0x2B) - ActionScript 2.0 cast operator with full prototype chain traversal and interface checking support. The opcode is fully implemented; tests focus on failure cases as successful cast scenarios require NEW_OBJECT support for user-defined constructors (a separate infrastructure limitation).",
    "swf_version": 7,
    "fully_implemented": true
  },
  "opcodes": {
    "tested": ["CAST_OP"],
    "supporting": ["PUSH", "POP", "TRACE", "INIT_OBJECT"]
  },
  "execution": {
    "type": "deterministic"
  },
  "edge_cases_tested": [
    "primitive_type_cast_rejection",
    "object_cast_without_prototype_chain",
    "mixed_type_cast_with_primitive_constructor",
    "null_undefined_handling"
  ],
  "implementation_notes": [
    "CastOp is fully implemented with complete prototype chain traversal via __proto__ properties",
    "Interface checking integrated via implementsInterface() function (requires ImplementsOp 0x2C)",
    "Maximum prototype chain depth of 100 to prevent infinite loops",
    "Returns original object on successful cast, null/undefined on failure (per SWF spec)",
    "Shared instanceof logic with actionInstanceOf via checkInstanceOf() helper function",
    "Test limitations: Successful cast scenarios require NEW_OBJECT to support user-defined constructors",
    "Current test validates: primitive rejection, prototype chain traversal logic, and graceful failure handling"
  ]
}
